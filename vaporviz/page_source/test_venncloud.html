<html>
<head>

  <script src="/static/jquery-1.11.1.min.js"></script>
  <script src="/static/jquery-ui-1.10.4/js/jquery-ui-1.10.4.min.js"></script>

  <script src="/www/floating-1.12.js"></script>
  <script src="/www/dynamic_wordclouds.js"></script>
  <script src="/www/prettyprint.js"></script>
  <script src="/www/waveform_visualizer.js"></script>

  <link rel="stylesheet" href="/static/jquery-ui-1.10.4/css/ui-lightness/jquery-ui-1.10.4.css"/>
  <link rel="stylesheet" href="/www/dynamic_wordclouds.css" />

  <!--<script src="/www/data_handler.js"></script>-->
  <script>
	var corpus_name = '{{corpus_name}}';
  </script>
</head>
<body>


<!-- TODO: proper annotation instead of just updating the element in the db -->

<div id='annotation_landing_zone'></div>
<div id="floatdivleft" style="
     position:absolute;
     width:350px;height:100px;top:10px;right:10px;
     padding:5px;background:#FFFFFF;
     border:2px solid #2266AA;
     z-index:100">
  <a href='javascript:;' onclick='hide_example_windows()' style='font-size:10'><b>[close]</b></a>
  <a href='javascript:;' onclick='mark_as_junk()' style='font-size:10'><b>[This pseudoterm is junk.]</b></a>

  <!-- Bandaid for the broken $.get-->
  <table>
    <tr>
      <td style="fontsize=22"><b>Eng:</b><input id="pt_eng_display"></input></b></td>
      <td style="fontsize=22"><b>Native:</b><input id="pt_native_display"></input></b></td>
    </tr>
    <tr>
      <td>
        Snippets
        <span id="pt_snippets_audio_player"></span>
      </td>
      <td>
        Snippets with Context
        <span id="pt_snippets_with_context_audio_player"></span>
      </td>
    </tr>
  </table>
  <!-- Bandaid for the broken $.get-->

  <!--<span id="annotation_landing_zone">Annotation window goes here.</span>-->
</div>

<div id="cloud_data_landing_zone"></div><BR><BR>

<script>
  function create_utterance_venncloud() {
    $.ajax({
      url: "/find_utterances",
      type: "POST",
      data: JSON.stringify({'dataset': 'buckeye', 'count': 7}),
      error: function(xhr, error) {
        alert('Error!  Status = ' + xhr.status + ' Message = ' + error);
      },
      success: function(utterances) {
        utterance_set1 = {};
        utterance_set1.utterance_ids = [
          utterances[0]._id,
          utterances[1]._id,
          utterances[2]._id
        ];
        utterance_set1.dataset_name="Set1";

        utterance_set2 = {};
        utterance_set2.utterance_ids = [
          utterances[2]._id,
          utterances[3]._id,
          utterances[4]._id
        ];
        utterance_set2.dataset_name="Set2";
        console.log([utterance_set1,utterance_set2]);
        venncloud_from_utterances("buckeye", [utterance_set1,utterance_set2]);
      }
    });
  }

  $.get("/www/venncloud_template.html", function(data){
    $('#cloud_data_landing_zone').html(data);
  });

  $.getScript("/www/data_handler.js",function(){
    create_utterance_venncloud();
  });

</script>

</body>
</html>
